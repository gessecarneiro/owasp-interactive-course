<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curso Interativo OWASP</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c;
            color: #e2e8f0;
            transition: background-color 0.3s, color 0.3s;
        }
        .container {
            max-width: 900px;
        }
        .bg-white {
            background-color: #2d3748;
        }
        .text-gray-800 {
            color: #e2e8f0;
        }
        .text-gray-700 {
            color: #cbd5e0;
        }
        .bg-gray-100 {
            background-color: #4a5568;
            border-color: #4a5568;
        }
        .bg-gray-200 {
            background-color: #4a5568;
            color: #e2e8f0;
        }
        .hover\:bg-gray-300:hover {
            background-color: #6a778a;
        }
        .bg-blue-600 {
            background-color: #4299e1;
        }
        .hover\:bg-blue-700:hover {
            background-color: #63b3ed;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .documentation-links a {
            color: #60a5fa;
            text-decoration: underline;
        }
        .documentation-links a:hover {
            color: #93c5fd;
        }
        .tabs button {
            transition: all 0.3s;
        }
        .tabs button.active {
            background-color: #2d3748;
            color: #e2e8f0;
            border-bottom-width: 2px;
            border-color: #4299e1;
        }
    </style>
</head>
<body class="dark bg-gray-100 flex items-center justify-center p-4 min-h-screen">
    <div id="course-container" class="container bg-white rounded-xl shadow-2xl p-8 md:p-12 transition-all duration-300 transform scale-100">
        <div class="flex justify-between items-center mb-6 flex-wrap">
            <div class="flex items-center mb-4 md:mb-0">
                <select id="language-select" class="bg-gray-200 text-gray-800 p-2 rounded-lg mr-2">
                    <option value="pt">Portugu√™s</option>
                    <option value="en">English</option>
                    <option value="es">Espa√±ol</option>
                </select>
            </div>
            <div id="streak-counter" class="text-lg font-semibold text-gray-800">üî• 0</div>
        </div>

        <div class="tabs flex justify-center mb-6 border-b border-gray-700">
            <button id="tab-top10" class="tab-button px-4 py-2 font-semibold text-gray-400 hover:text-gray-200 border-b-2 border-transparent active" data-section="top10">
                OWASP Top 10
            </button>
            <button id="tab-bots" class="tab-button px-4 py-2 font-semibold text-gray-400 hover:text-gray-200 border-b-2 border-transparent" data-section="bots">
                Amea√ßas Automatizadas
            </button>
            <button id="tab-api" class="tab-button px-4 py-2 font-semibold text-gray-400 hover:text-gray-200 border-b-2 border-transparent" data-section="api">
                Seguran√ßa de API
            </button>
        </div>

        <h1 id="course-title" class="text-3xl md:text-4xl font-bold text-center text-gray-800 mb-6"></h1>
        <div id="lesson-content" class="text-lg text-gray-700 leading-relaxed mb-8"></div>

        <div id="question-area" class="mt-6">
            <h2 id="question-text" class="text-xl font-semibold text-gray-800 mb-4"></h2>
            <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
            <div id="feedback-message" class="mt-4 p-4 rounded-lg text-center text-white font-medium hidden"></div>
            <div id="documentation-area" class="mt-4 hidden documentation-links">
                <h3 class="font-semibold text-gray-800">Documenta√ß√£o para aprofundar:</h3>
                <ul id="documentation-list" class="list-disc list-inside mt-2"></ul>
            </div>
        </div>
        
        <div id="navigation-area" class="mt-8 flex justify-between">
            <button id="next-button" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-colors duration-300 hidden">
                Continuar
            </button>
            <button id="restart-button" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-colors duration-300 hidden">
                Reiniciar
            </button>
        </div>
    </div>

    <script>
        // Data structure for course content in multiple languages and sections
        const courseData = {
            pt: {
                top10: [
                    {
                        day: 1,
                        title: 'Dia 1: OWASP Top 10 - O B√°sico',
                        content: `
                            <p>Bem-vindo ao seu primeiro dia de curso sobre a OWASP (Open Worldwide Application Security Project). O OWASP Top 10 √© um guia essencial que destaca os riscos de seguran√ßa mais cr√≠ticos para aplica√ß√µes web.</p>
                            <h3 class="font-bold text-xl mt-4 mb-2">A01: Broken Access Control (Controle de Acesso Quebrado)</h3>
                            <p>Esta vulnerabilidade ocorre quando restri√ß√µes de acesso n√£o s√£o aplicadas corretamente. Um atacante pode aceder a dados ou funcionalidades para as quais n√£o tem permiss√£o.</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md border border-gray-200">
                                <strong>Exemplo:</strong> Um usu√°rio comum consegue aceder ao painel de administra√ß√£o apenas mudando a URL de <code>/user_profile</code> para <code>/admin</code>. O sistema falhou em verificar se o usu√°rio tinha privil√©gios de administrador.
                            </p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="10" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="35" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Usu√°rio</text>
                                    <rect x="110" y="10" width="80" height="40" rx="5" ry="5" fill="#f56565" />
                                    <text x="150" y="35" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Painel Admin</text>
                                    <path d="M90 30 L110 30" stroke="#a0aec0" stroke-width="2" marker-end="url(#arrowhead)" />
                                    <text x="100" y="25" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">/admin</text>
                                    <text x="150" y="80" font-family="Inter" font-size="12" fill="#e53e3e" text-anchor="middle">‚ùå Acesso Liberado</text>
                                    <defs>
                                        <marker id="arrowhead" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeght="6" orient="auto">
                                            <path d="M 0 0 L 10 5 L 0 10 z" fill="#a0aec0" />
                                        </marker>
                                    </defs>
                                </svg>
                            </div>
                        `,
                        question: 'Qual das seguintes situa√ß√µes √© um exemplo de Broken Access Control?',
                        options: [
                            'O site n√£o usa HTTPS para criptografar a comunica√ß√£o.',
                            'Um usu√°rio consegue ver o perfil de outro usu√°rio mudando o ID na URL.',
                            'Um formul√°rio de login permite tentativas de senha ilimitadas.'
                        ],
                        correctAnswer: 1,
                        feedback: 'Correto! A falta de valida√ß√£o de permiss√µes ao aceder ao perfil de outro usu√°rio √© um exemplo cl√°ssico de Broken Access Control.',
                        documentation: [
                            { text: 'OWASP Top 10 - Broken Access Control', url: 'https://owasp.org/www-project-top-ten/2021/A01_2021-Broken_Access_Control' }
                        ]
                    },
                    {
                        day: 2,
                        title: 'Dia 2: OWASP Top 10 - Inje√ß√£o',
                        content: `
                            <h3 class="font-bold text-xl mt-4 mb-2">A03: Injection (Inje√ß√£o)</h3>
                            <p>Falhas de inje√ß√£o, como SQL Injection ou Command Injection, ocorrem quando dados n√£o confi√°veis s√£o enviados a um interpretador como parte de um comando. Isso pode levar √† execu√ß√£o de comandos maliciosos.</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md border border-gray-200">
                                <strong>Exemplo:</strong> Um atacante insere <code>' OR '1'='1' --</code> em um campo de login. Isso manipula a consulta SQL e permite o login sem uma senha v√°lida.
                            </p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Atacante</text>
                                    <path d="M90 40 L120 40" stroke="#a0aec0" stroke-width="2" marker-end="url(#arrowhead)" />
                                    <text x="105" y="35" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">input: ' OR '1'='1</text>
                                    <rect x="120" y="20" width="100" height="40" rx="5" ry="5" fill="#f56565" />
                                    <text x="170" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Consulta SQL</text>
                                    <rect x="230" y="20" width="60" height="40" rx="5" ry="5" fill="#48bb78" />
                                    <text x="260" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Base de Dados</text>
                                    <path d="M220 40 L230 40" stroke="#a0aec0" stroke-width="2" marker-end="url(#arrowhead)" />
                                    <text x="170" y="80" font-family="Inter" font-size="12" fill="#e53e3e" text-anchor="middle">‚ùå Execu√ß√£o Maliciosa</text>
                                    <defs>
                                        <marker id="arrowhead" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto">
                                            <path d="M 0 0 L 10 5 L 0 10 z" fill="#a0aec0" />
                                        </marker>
                                    </defs>
                                </svg>
                            </div>
                        `,
                        question: 'Um atacante insere <code>; rm -rf /</code> num campo de busca que usa um comando de sistema. Que tipo de vulnerabilidade ele est√° a explorar?',
                        options: [
                            'Broken Access Control',
                            'Criptographic Failures',
                            'Injection (Command Injection)'
                        ],
                        correctAnswer: 2,
                        feedback: 'Correto! O atacante est√° "injetando" um comando malicioso que o interpretador do sistema ir√° executar.',
                        documentation: [
                            { text: 'OWASP Top 10 - Injection', url: 'https://owasp.org/www-project-top-ten/2021/A03_2021-Injection' }
                        ]
                    }
                ],
                bots: [
                    {
                        day: 3,
                        title: 'Dia 3: Amea√ßas Automatizadas - Credential Stuffing',
                        content: `
                            <p>O OWASP Automated Threats to Web Applications (OAT) lista as amea√ßas mais comuns que usam bots para atacar aplica√ß√µes web. A maioria dessas amea√ßas n√£o s√£o vulnerabilidades de c√≥digo, mas sim falhas na l√≥gica de neg√≥cio e na defesa da aplica√ß√£o.</p>
                            <h3 class="font-bold text-xl mt-4 mb-2">OT-001: Credential Stuffing</h3>
                            <p>Esta √© a amea√ßa mais comum. Atacantes usam listas de credenciais roubadas de outros sites para tentar login na sua aplica√ß√£o. O objetivo √© explorar o facto de que muitos usu√°rios reutilizam senhas.</p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Bot/Atacante</text>
                                    <rect x="200" y="20" width="80" height="40" rx="5" ry="5" fill="#48bb78" />
                                    <text x="240" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Sua Aplica√ß√£o</text>
                                    <path d="M90 40 Q 145 10, 190 40" stroke="#a0aec0" stroke-width="2" fill="none" />
                                    <path d="M90 50 Q 145 80, 190 50" stroke="#a0aec0" stroke-width="2" fill="none" />
                                    <text x="145" y="30" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">tentativa1@email.com</text>
                                    <text x="145" y="60" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">tentativa2@email.com</text>
                                </svg>
                            </div>
                        `,
                        question: 'Um site est√° a ser atacado por um script que tenta milhares de combina√ß√µes de nome de usu√°rio e senha por segundo. Isso √© um ataque de:',
                        options: [
                            'Broken Access Control',
                            'Credential Stuffing',
                            'Denial of Service (DoS)'
                        ],
                        correctAnswer: 1,
                        feedback: 'Correto! O ataque √© de Credential Stuffing, usando credenciais de um vazamento de dados pr√©vio.',
                        documentation: [
                            { text: 'OWASP Automated Threats - Credential Stuffing', url: 'https://owasp.org/www-project-automated-threats-to-web-applications/#ot-001-credential-stuffing' }
                        ]
                    },
                    {
                        day: 4,
                        title: 'Dia 4: Amea√ßas Automatizadas - Web Scraping',
                        content: `
                            <h3 class="font-bold text-xl mt-4 mb-2">OT-002: Web Scraping</h3>
                            <p>Web scraping √© o processo de usar um bot para extrair conte√∫do e dados de um site. Embora possa ter usos leg√≠timos, tamb√©m √© uma amea√ßa quando usado para roubar conte√∫do propriet√°rio, pre√ßos de produtos ou listas de e-mails.</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md border border-gray-200">
                                <strong>Exemplo:</strong> Um concorrente usa um bot para extrair todos os pre√ßos dos seus produtos em tempo real, permitindo-lhe ajustar os seus pr√≥prios pre√ßos para serem sempre mais baixos.
                            </p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Scraper Bot</text>
                                    <rect x="200" y="20" width="80" height="40" rx="5" ry="5" fill="#48bb78" />
                                    <text x="240" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Sua Loja</text>
                                    <path d="M90 40 Q 145 10, 190 40" stroke="#a0aec0" stroke-width="2" fill="none" />
                                    <path d="M90 50 Q 145 80, 190 50" stroke="#a0aec0" stroke-width="2" fill="none" />
                                    <text x="145" y="30" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">/produtos</text>
                                    <text x="145" y="60" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">Extraindo dados...</text>
                                </svg>
                            </div>
                        `,
                        question: 'Qual a principal amea√ßa de um bot que visita repetidamente um site para copiar informa√ß√µes de produtos?',
                        options: [
                            'Credential Stuffing',
                            'Web Scraping',
                            'Denial of Service (DoS)'
                        ],
                        correctAnswer: 1,
                        feedback: 'Correto! Esta atividade √© um exemplo cl√°ssico de Web Scraping. Para proteger o seu site, pode usar t√©cnicas como honeypots e detec√ß√£o de padr√µes de acesso.',
                        documentation: [
                            { text: 'OWASP Automated Threats - Web Scraping', url: 'https://owasp.org/www-project-automated-threats-to-web-applications/#ot-002-web-scraping' }
                        ]
                    }
                ],
                api: [
                    {
                        day: 5,
                        title: 'Dia 5: Seguran√ßa de API - BOLA',
                        content: `
                            <p>Com o crescimento das APIs, a OWASP criou um Top 10 espec√≠fico para elas. Muitas vulnerabilidades de API s√£o similares √†s de web apps, mas algumas s√£o √∫nicas devido √† sua natureza.</p>
                            <h3 class="font-bold text-xl mt-4 mb-2">API1: Broken Object Level Authorization (BOLA)</h3>
                            <p>Esta vulnerabilidade ocorre quando o sistema n√£o verifica se o usu√°rio autenticado tem permiss√£o para aceder a um objeto espec√≠fico via API, usando um ID.</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md border border-gray-200">
                                <strong>Exemplo:</strong> A API <code>/api/v1/users/{user_id}</code> retorna os dados de um usu√°rio. Se o usu√°rio A pode mudar o ID na requisi√ß√£o para o ID do usu√°rio B e obter os seus dados, isso √© um BOLA.
                            </p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Usu√°rio A</text>
                                    <rect x="210" y="20" width="80" height="40" rx="5" ry="5" fill="#48bb78" />
                                    <text x="250" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Servidor API</text>
                                    <rect x="110" y="80" width="80" height="40" rx="5" ry="5" fill="#90cdf4" />
                                    <text x="150" y="105" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Dados B</text>
                                    <path d="M90 40 L210 40" stroke="#e53e3e" stroke-width="2" marker-end="url(#arrowhead)" />
                                    <text x="150" y="35" font-family="Inter" font-size="10" fill="#e53e3e" text-anchor="middle">/users/id_B</text>
                                    <defs>
                                        <marker id="arrowhead" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto">
                                            <path d="M 0 0 L 10 5 L 0 10 z" fill="#e53e3e" />
                                        </marker>
                                    </defs>
                                </svg>
                            </div>
                        `,
                        question: 'Qual falha de API √© um tipo de Broken Access Control espec√≠fico para IDs de objetos?',
                        options: [
                            'API3: Broken Function Level Authorization',
                            'API1: Broken Object Level Authorization (BOLA)',
                            'API2: Broken Authentication'
                        ],
                        correctAnswer: 1,
                        feedback: 'Isso mesmo! O BOLA √© um tipo de Broken Access Control onde a valida√ß√£o falha no n√≠vel do objeto (o recurso espec√≠fico, como um usu√°rio, um ficheiro, etc.).',
                        documentation: [
                            { text: 'OWASP API Security Top 10 - BOLA', url: 'https://owasp.org/API-Security/editions/2023/en/0x11-t10/#api1-broken-object-level-authorization' }
                        ]
                    }
                ]
            },
            en: {
                top10: [
                    {
                        day: 1,
                        title: 'Day 1: OWASP Top 10 - The Basics',
                        content: `
                            <p>Welcome to your first day of the course on OWASP (Open Worldwide Application Security Project). The OWASP Top 10 is an essential guide that highlights the most critical security risks for web applications.</p>
                            <h3 class="font-bold text-xl mt-4 mb-2">A01: Broken Access Control</h3>
                            <p>This vulnerability occurs when access restrictions are not properly enforced. An attacker can access data or functionalities they are not authorized for.</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md border border-gray-200">
                                <strong>Example:</strong> A regular user can access the admin panel just by changing the URL from <code>/user_profile</code> to <code>/admin</code>. The system failed to verify if the user had admin privileges.
                            </p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="10" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="35" font-family="Inter" font-size="12" fill="white" text-anchor="middle">User</text>
                                    <rect x="110" y="10" width="80" height="40" rx="5" ry="5" fill="#f56565" />
                                    <text x="150" y="35" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Admin Panel</text>
                                    <path d="M90 30 L110 30" stroke="#a0aec0" stroke-width="2" marker-end="url(#arrowhead)" />
                                    <text x="100" y="25" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">/admin</text>
                                    <text x="150" y="80" font-family="Inter" font-size="12" fill="#e53e3e" text-anchor="middle">‚ùå Access Granted</text>
                                    <defs>
                                        <marker id="arrowhead" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeght="6" orient="auto">
                                            <path d="M 0 0 L 10 5 L 0 10 z" fill="#a0aec0" />
                                        </marker>
                                    </defs>
                                </svg>
                            </div>
                        `,
                        question: 'Which of the following situations is an example of Broken Access Control?',
                        options: [
                            'The site does not use HTTPS to encrypt communication.',
                            'A user can see another user\'s profile by changing the ID in the URL.',
                            'A login form allows unlimited password attempts.'
                        ],
                        correctAnswer: 1,
                        feedback: 'Correct! The lack of permission validation when accessing another user\'s profile is a classic example of Broken Access Control.',
                        documentation: [
                            { text: 'OWASP Top 10 - Broken Access Control', url: 'https://owasp.org/www-project-top-ten/2021/A01_2021-Broken_Access_Control' }
                        ]
                    },
                    {
                        day: 2,
                        title: 'Day 2: OWASP Top 10 - Injection',
                        content: `
                            <h3 class="font-bold text-xl mt-4 mb-2">A03: Injection</h3>
                            <p>Injection flaws, such as SQL Injection or Command Injection, occur when untrusted data is sent to an interpreter as part of a command. This can lead to the execution of malicious commands.</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md border border-gray-200">
                                <strong>Example:</strong> An attacker inserts <code>' OR '1'='1' --</code> into a login field. This manipulates the SQL query and allows login without a valid password.
                            </p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Attacker</text>
                                    <path d="M90 40 L120 40" stroke="#a0aec0" stroke-width="2" marker-end="url(#arrowhead)" />
                                    <text x="105" y="35" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">input: ' OR '1'='1</text>
                                    <rect x="120" y="20" width="100" height="40" rx="5" ry="5" fill="#f56565" />
                                    <text x="170" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">SQL Query</text>
                                    <rect x="230" y="20" width="60" height="40" rx="5" ry="5" fill="#48bb78" />
                                    <text x="260" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Database</text>
                                    <path d="M220 40 L230 40" stroke="#a0aec0" stroke-width="2" marker-end="url(#arrowhead)" />
                                    <text x="170" y="80" font-family="Inter" font-size="12" fill="#e53e3e" text-anchor="middle">‚ùå Malicious Execution</text>
                                    <defs>
                                        <marker id="arrowhead" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeght="6" orient="auto">
                                            <path d="M 0 0 L 10 5 L 0 10 z" fill="#a0aec0" />
                                        </marker>
                                    </defs>
                                </svg>
                            </div>
                        `,
                        question: 'An attacker inserts <code>; rm -rf /</code> into a search field that uses a system command. What type of vulnerability are they exploiting?',
                        options: [
                            'Broken Access Control',
                            'Criptographic Failures',
                            'Injection (Command Injection)'
                        ],
                        correctAnswer: 2,
                        feedback: 'Correct! The attacker is "injecting" a malicious command that the system interpreter will execute.',
                        documentation: [
                            { text: 'OWASP Top 10 - Injection', url: 'https://owasp.org/www-project-top-ten/2021/A03_2021-Injection' }
                        ]
                    }
                ],
                bots: [
                    {
                        day: 3,
                        title: 'Day 3: Automated Threats - Credential Stuffing',
                        content: `
                            <p>The OWASP Automated Threats to Web Applications (OAT) lists the most common threats that use bots to attack web applications. Most of these threats are not code vulnerabilities, but rather flaws in the business logic and application defense.</p>
                            <h3 class="font-bold text-xl mt-4 mb-2">OT-001: Credential Stuffing</h3>
                            <p>This is the most common threat. Attackers use lists of stolen credentials from other sites to attempt logins on your application. The goal is to exploit the fact that many users reuse passwords.</p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Bot/Attacker</text>
                                    <rect x="200" y="20" width="80" height="40" rx="5" ry="5" fill="#48bb78" />
                                    <text x="240" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Your Application</text>
                                    <path d="M90 40 Q 145 10, 190 40" stroke="#a0aec0" stroke-width="2" fill="none" />
                                    <path d="M90 50 Q 145 80, 190 50" stroke="#a0aec0" stroke-width="2" fill="none" />
                                    <text x="145" y="30" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">attempt1@email.com</text>
                                    <text x="145" y="60" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">attempt2@email.com</text>
                                </svg>
                            </div>
                        `,
                        question: 'A site is being attacked by a script that tries thousands of username and password combinations per second. This is a:',
                        options: [
                            'Broken Access Control',
                            'Credential Stuffing',
                            'Denial of Service (DoS)'
                        ],
                        correctAnswer: 1,
                        feedback: 'Correct! The attack is Credential Stuffing, using credentials from a previous data breach.',
                        documentation: [
                            { text: 'OWASP Automated Threats - Credential Stuffing', url: 'https://owasp.org/www-project-automated-threats-to-web-applications/#ot-001-credential-stuffing' }
                        ]
                    },
                    {
                        day: 4,
                        title: 'Day 4: Automated Threats - Web Scraping',
                        content: `
                            <h3 class="font-bold text-xl mt-4 mb-2">OT-002: Web Scraping</h3>
                            <p>Web scraping is the process of using a bot to extract content and data from a website. While it can have legitimate uses, it is also a threat when used to steal proprietary content, product prices, or email lists.</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md border border-gray-200">
                                <strong>Example:</strong> A competitor uses a bot to extract all your product prices in real-time, allowing them to adjust their own prices to always be lower.
                            </p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Scraper Bot</text>
                                    <rect x="200" y="20" width="80" height="40" rx="5" ry="5" fill="#48bb78" />
                                    <text x="240" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Your Store</text>
                                    <path d="M90 40 Q 145 10, 190 40" stroke="#a0aec0" stroke-width="2" fill="none" />
                                    <path d="M90 50 Q 145 80, 190 50" stroke="#a0aec0" stroke-width="2" fill="none" />
                                    <text x="145" y="30" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">/products</text>
                                    <text x="145" y="60" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">Extracting data...</text>
                                </svg>
                            </div>
                        `,
                        question: 'What is the main threat of a bot that repeatedly visits a site to copy product information?',
                        options: [
                            'Credential Stuffing',
                            'Web Scraping',
                            'Denial of Service (DoS)'
                        ],
                        correctAnswer: 1,
                        feedback: 'Correct! This activity is a classic example of Web Scraping. To protect your site, you can use techniques like honeypots and access pattern detection.',
                        documentation: [
                            { text: 'OWASP Automated Threats - Web Scraping', url: 'https://owasp.org/www-project-automated-threats-to-web-applications/#ot-002-web-scraping' }
                        ]
                    }
                ],
                api: [
                    {
                        day: 5,
                        title: 'Day 5: API Security - BOLA',
                        content: `
                            <p>With the growth of APIs, OWASP created a specific Top 10 for them. Many API vulnerabilities are similar to those in web apps, but some are unique due to their nature.</p>
                            <h3 class="font-bold text-xl mt-4 mb-2">API1: Broken Object Level Authorization (BOLA)</h3>
                            <p>This vulnerability occurs when the system does not verify if the authenticated user has permission to access a specific object via the API, using an ID.</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md border border-gray-200">
                                <strong>Example:</strong> The API <code>/api/v1/users/{user_id}</code> returns a user's data. If user A can change the ID in the request to user B's ID and get their data, this is a BOLA attack.
                            </p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">User A</text>
                                    <rect x="210" y="20" width="80" height="40" rx="5" ry="5" fill="#48bb78" />
                                    <text x="250" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">API Server</text>
                                    <rect x="110" y="80" width="80" height="40" rx="5" ry="5" fill="#90cdf4" />
                                    <text x="150" y="105" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Data B</text>
                                    <path d="M90 40 L210 40" stroke="#e53e3e" stroke-width="2" marker-end="url(#arrowhead)" />
                                    <text x="150" y="35" font-family="Inter" font-size="10" fill="#e53e3e" text-anchor="middle">/users/id_B</text>
                                    <defs>
                                        <marker id="arrowhead" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeght="6" orient="auto">
                                            <path d="M 0 0 L 10 5 L 0 10 z" fill="#e53e3e" />
                                        </marker>
                                    </defs>
                                </svg>
                            </div>
                        `,
                        question: 'Which API flaw is a type of Broken Access Control specific to object IDs?',
                        options: [
                            'API3: Broken Function Level Authorization',
                            'API1: Broken Object Level Authorization (BOLA)',
                            'API2: Broken Authentication'
                        ],
                        correctAnswer: 1,
                        feedback: 'That\'s right! BOLA is a type of Broken Access Control where validation fails at the object level (the specific resource, like a user, a file, etc.).',
                        documentation: [
                            { text: 'OWASP API Security Top 10 - BOLA', url: 'https://owasp.org/API-Security/editions/2023/en/0x11-t10/#api1-broken-object-level-authorization' }
                        ]
                    }
                ]
            },
            es: {
                top10: [
                    {
                        day: 1,
                        title: 'D√≠a 1: OWASP Top 10 - Lo B√°sico',
                        content: `
                            <p>Bienvenido a su primer d√≠a de curso sobre OWASP (Open Worldwide Application Security Project). El OWASP Top 10 es una gu√≠a esencial que destaca los riesgos de seguridad m√°s cr√≠ticos para las aplicaciones web.</p>
                            <h3 class="font-bold text-xl mt-4 mb-2">A01: Broken Access Control (Control de Acceso Roto)</h3>
                            <p>Esta vulnerabilidad ocurre cuando las restricciones de acceso no se aplican correctamente. Un atacante puede acceder a datos o funcionalidades para las que no est√° autorizado.</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md border border-gray-200">
                                <strong>Ejemplo:</strong> Un usuario com√∫n puede acceder al panel de administraci√≥n simplemente cambiando la URL de <code>/user_profile</code> a <code>/admin</code>. El sistema no verific√≥ si el usuario ten√≠a privilegios de administrador.
                            </p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="10" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="35" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Usuario</text>
                                    <rect x="110" y="10" width="80" height="40" rx="5" ry="5" fill="#f56565" />
                                    <text x="150" y="35" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Panel Admin</text>
                                    <path d="M90 30 L110 30" stroke="#a0aec0" stroke-width="2" marker-end="url(#arrowhead)" />
                                    <text x="100" y="25" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">/admin</text>
                                    <text x="150" y="80" font-family="Inter" font-size="12" fill="#e53e3e" text-anchor="middle">‚ùå Acceso Concedido</text>
                                    <defs>
                                        <marker id="arrowhead" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto">
                                            <path d="M 0 0 L 10 5 L 0 10 z" fill="#a0aec0" />
                                        </marker>
                                    </defs>
                                </svg>
                            </div>
                        `,
                        question: '¬øCu√°l de las siguientes situaciones es un ejemplo de Broken Access Control?',
                        options: [
                            'El sitio no utiliza HTTPS para cifrar la comunicaci√≥n.',
                            'Un usuario puede ver el perfil de otro usuario cambiando el ID en la URL.',
                            'Un formulario de inicio de sesi√≥n permite intentos de contrase√±a ilimitados.'
                        ],
                        correctAnswer: 1,
                        feedback: '¬°Correcto! La falta de validaci√≥n de permisos al acceder al perfil de otro usuario es un ejemplo cl√°sico de Broken Access Control.',
                        documentation: [
                            { text: 'OWASP Top 10 - Broken Access Control', url: 'https://owasp.org/www-project-top-ten/2021/A01_2021-Broken_Access_Control' }
                        ]
                    },
                    {
                        day: 2,
                        title: 'D√≠a 2: OWASP Top 10 - Inyecci√≥n',
                        content: `
                            <h3 class="font-bold text-xl mt-4 mb-2">A03: Injection (Inyecci√≥n)</h3>
                            <p>Las fallas de inyecci√≥n, como SQL Injection o Command Injection, ocurren cuando se env√≠an datos no confiables a un int√©rprete como parte de un comando. Esto puede llevar a la ejecuci√≥n de comandos maliciosos.</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md border border-gray-200">
                                <strong>Ejemplo:</strong> Un atacante inserta <code>' OR '1'='1' --</code> en un campo de inicio de sesi√≥n. Esto manipula la consulta SQL y permite el inicio de sesi√≥n sin una contrase√±a v√°lida.
                            </p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Atacante</text>
                                    <path d="M90 40 L120 40" stroke="#a0aec0" stroke-width="2" marker-end="url(#arrowhead)" />
                                    <text x="105" y="35" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">input: ' OR '1'='1</text>
                                    <rect x="120" y="20" width="100" height="40" rx="5" ry="5" fill="#f56565" />
                                    <text x="170" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Consulta SQL</text>
                                    <rect x="230" y="20" width="60" height="40" rx="5" ry="5" fill="#48bb78" />
                                    <text x="260" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Base de Datos</text>
                                    <path d="M220 40 L230 40" stroke="#a0aec0" stroke-width="2" marker-end="url(#arrowhead)" />
                                    <text x="170" y="80" font-family="Inter" font-size="12" fill="#e53e3e" text-anchor="middle">‚ùå Ejecuci√≥n Maliciosa</text>
                                    <defs>
                                        <marker id="arrowhead" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto">
                                            <path d="M 0 0 L 10 5 L 0 10 z" fill="#a0aec0" />
                                        </marker>
                                    </defs>
                                </svg>
                            </div>
                        `,
                        question: 'Un atacante inserta <code>; rm -rf /</code> en un campo de b√∫squeda que utiliza un comando de sistema. ¬øQu√© tipo de vulnerabilidad est√° explotando?',
                        options: [
                            'Broken Access Control',
                            'Criptographic Failures',
                            'Injection (Command Injection)'
                        ],
                        correctAnswer: 2,
                        feedback: '¬°Correcto! El atacante est√° "inyectando" un comando malicioso que el int√©rprete del sistema ejecutar√°.',
                        documentation: [
                            { text: 'OWASP Top 10 - Injection', url: 'https://owasp.org/www-project-top-ten/2021/A03_2021-Injection' }
                        ]
                    }
                ],
                bots: [
                    {
                        day: 3,
                        title: 'D√≠a 3: Amenazas Automatizadas - Credential Stuffing',
                        content: `
                            <p>El OWASP Automated Threats to Web Applications (OAT) enumera las amenazas m√°s comunes que utilizan bots para atacar aplicaciones web. La mayor√≠a de estas amenazas no son vulnerabilidades de c√≥digo, sino fallas en la l√≥gica de negocio y la defensa de la aplicaci√≥n.</p>
                            <h3 class="font-bold text-xl mt-4 mb-2">OT-001: Credential Stuffing</h3>
                            <p>Esta es la amenaza m√°s com√∫n. Los atacantes utilizan listas de credenciales robadas de otros sitios para intentar iniciar sesi√≥n en su aplicaci√≥n. El objetivo es explotar el hecho de que muchos usuarios reutilizan contrase√±as.</p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Bot/Atacante</text>
                                    <rect x="200" y="20" width="80" height="40" rx="5" ry="5" fill="#48bb78" />
                                    <text x="240" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Tu Aplicaci√≥n</text>
                                    <path d="M90 40 Q 145 10, 190 40" stroke="#a0aec0" stroke-width="2" fill="none" />
                                    <path d="M90 50 Q 145 80, 190 50" stroke="#a0aec0" stroke-width="2" fill="none" />
                                    <text x="145" y="30" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">intento1@email.com</text>
                                    <text x="145" y="60" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">intento2@email.com</text>
                                </svg>
                            </div>
                        `,
                        question: 'Un sitio est√° siendo atacado por un script que intenta miles de combinaciones de nombre de usuario y contrase√±a por segundo. Esto es un ataque de:',
                        options: [
                            'Broken Access Control',
                            'Credential Stuffing',
                            'Denial of Service (DoS)'
                        ],
                        correctAnswer: 1,
                        feedback: '¬°Correcto! El ataque es de Credential Stuffing, utilizando credenciales de una violaci√≥n de datos previa.',
                        documentation: [
                            { text: 'OWASP Automated Threats - Credential Stuffing', url: 'https://owasp.org/www-project-automated-threats-to-web-applications/#ot-001-credential-stuffing' }
                        ]
                    },
                    {
                        day: 4,
                        title: 'D√≠a 4: Amenazas Automatizadas - Web Scraping',
                        content: `
                            <h3 class="font-bold text-xl mt-4 mb-2">OT-002: Web Scraping</h3>
                            <p>Web scraping es el proceso de utilizar un bot para extraer contenido y datos de un sitio web. Aunque puede tener usos leg√≠timos, tambi√©n es una amenaza cuando se utiliza para robar contenido propietario, precios de productos o listas de correo electr√≥nico.</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md border border-gray-200">
                                <strong>Ejemplo:</strong> Un competidor utiliza un bot para extraer todos los precios de sus productos en tiempo real, lo que le permite ajustar sus propios precios para que siempre sean m√°s bajos.
                            </p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Scraper Bot</text>
                                    <rect x="200" y="20" width="80" height="40" rx="5" ry="5" fill="#48bb78" />
                                    <text x="240" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Tu Tienda</text>
                                    <path d="M90 40 Q 145 10, 190 40" stroke="#a0aec0" stroke-width="2" fill="none" />
                                    <path d="M90 50 Q 145 80, 190 50" stroke="#a0aec0" stroke-width="2" fill="none" />
                                    <text x="145" y="30" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">/productos</text>
                                    <text x="145" y="60" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">Extrayendo datos...</text>
                                </svg>
                            </div>
                        `,
                        question: '¬øCu√°l es la principal amenaza de un bot que visita repetidamente un sitio para copiar informaci√≥n de productos?',
                        options: [
                            'Credential Stuffing',
                            'Web Scraping',
                            'Denial of Service (DoS)'
                        ],
                        correctAnswer: 1,
                        feedback: '¬°Correcto! Esta actividad es un ejemplo cl√°sico de Web Scraping. Para proteger tu sitio, puedes usar t√©cnicas como honeypots y detecci√≥n de patrones de acceso.',
                        documentation: [
                            { text: 'OWASP Automated Threats - Web Scraping', url: 'https://owasp.org/www-project-automated-threats-to-web-applications/#ot-002-web-scraping' }
                        ]
                    }
                ],
                api: [
                    {
                        day: 5,
                        title: 'D√≠a 5: Seguridad de API - BOLA',
                        content: `
                            <p>Con el crecimiento de las APIs, OWASP cre√≥ un Top 10 espec√≠fico para ellas. Muchas vulnerabilidades de API son similares a las de las aplicaciones web, pero algunas son √∫nicas debido a su naturaleza.</p>
                            <h3 class="font-bold text-xl mt-4 mb-2">API1: Broken Object Level Authorization (BOLA)</h3>
                            <p>Esta vulnerabilidade ocorre quando o sistema n√£o verifica se o usu√°rio autenticado tem permiss√£o para aceder a um objeto espec√≠fico via API, usando um ID.</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md border border-gray-200">
                                <strong>Exemplo:</strong> A API <code>/api/v1/users/{user_id}</code> retorna os dados de um usu√°rio. Se o usu√°rio A pode mudar o ID na requisi√ß√£o para o ID do usu√°rio B e obter os seus dados, isso √© um BOLA.</p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Usu√°rio A</text>
                                    <rect x="210" y="20" width="80" height="40" rx="5" ry="5" fill="#48bb78" />
                                    <text x="250" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Servidor API</text>
                                    <rect x="110" y="80" width="80" height="40" rx="5" ry="5" fill="#90cdf4" />
                                    <text x="150" y="105" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Dados B</text>
                                    <path d="M90 40 L210 40" stroke="#e53e3e" stroke-width="2" marker-end="url(#arrowhead)" />
                                    <text x="150" y="35" font-family="Inter" font-size="10" fill="#e53e3e" text-anchor="middle">/users/id_B</text>
                                    <defs>
                                        <marker id="arrowhead" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto">
                                            <path d="M 0 0 L 10 5 L 0 10 z" fill="#e53e3e" />
                                        </marker>
                                    </defs>
                                </svg>
                            </div>
                        `,
                        question: 'Qual falha de API √© um tipo de Broken Access Control espec√≠fico para IDs de objetos?',
                        options: [
                            'API3: Broken Function Level Authorization',
                            'API1: Broken Object Level Authorization (BOLA)',
                            'API2: Broken Authentication'
                        ],
                        correctAnswer: 1,
                        feedback: 'Isso mesmo! O BOLA √© um tipo de Broken Access Control onde a valida√ß√£o falha no n√≠vel do objeto (o recurso espec√≠fico, como um usu√°rio, um ficheiro, etc.).',
                        documentation: [
                            { text: 'OWASP API Security Top 10 - BOLA', url: 'https://owasp.org/API-Security/editions/2023/en/0x11-t10/#api1-broken-object-level-authorization' }
                        ]
                    }
                ]
            },
            es: {
                top10: [
                    {
                        day: 1,
                        title: 'D√≠a 1: OWASP Top 10 - Lo B√°sico',
                        content: `
                            <p>Bienvenido a su primer d√≠a de curso sobre OWASP (Open Worldwide Application Security Project). El OWASP Top 10 es una gu√≠a esencial que destaca los riesgos de seguridad m√°s cr√≠ticos para las aplicaciones web.</p>
                            <h3 class="font-bold text-xl mt-4 mb-2">A01: Broken Access Control (Control de Acceso Roto)</h3>
                            <p>Esta vulnerabilidad ocurre cuando las restricciones de acceso no se aplican correctamente. Un atacante puede acceder a datos o funcionalidades para las que no est√° autorizado.</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md border border-gray-200">
                                <strong>Ejemplo:</strong> Un usuario com√∫n puede acceder al panel de administraci√≥n simplemente cambiando la URL de <code>/user_profile</code> a <code>/admin</code>. El sistema no verific√≥ si el usuario ten√≠a privilegios de administrador.
                            </p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="10" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="35" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Usuario</text>
                                    <rect x="110" y="10" width="80" height="40" rx="5" ry="5" fill="#f56565" />
                                    <text x="150" y="35" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Panel Admin</text>
                                    <path d="M90 30 L110 30" stroke="#a0aec0" stroke-width="2" marker-end="url(#arrowhead)" />
                                    <text x="100" y="25" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">/admin</text>
                                    <text x="150" y="80" font-family="Inter" font-size="12" fill="#e53e3e" text-anchor="middle">‚ùå Acceso Concedido</text>
                                    <defs>
                                        <marker id="arrowhead" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto">
                                            <path d="M 0 0 L 10 5 L 0 10 z" fill="#a0aec0" />
                                        </marker>
                                    </defs>
                                </svg>
                            </div>
                        `,
                        question: '¬øCu√°l de las siguientes situaciones es un ejemplo de Broken Access Control?',
                        options: [
                            'El sitio no utiliza HTTPS para cifrar la comunicaci√≥n.',
                            'Un usuario puede ver el perfil de otro usuario cambiando el ID en la URL.',
                            'Un formulario de inicio de sesi√≥n permite intentos de contrase√±a ilimitados.'
                        ],
                        correctAnswer: 1,
                        feedback: '¬°Correcto! La falta de validaci√≥n de permisos al acceder al perfil de otro usuario es un ejemplo cl√°sico de Broken Access Control.',
                        documentation: [
                            { text: 'OWASP Top 10 - Broken Access Control', url: 'https://owasp.org/www-project-top-ten/2021/A01_2021-Broken_Access_Control' }
                        ]
                    },
                    {
                        day: 2,
                        title: 'D√≠a 2: OWASP Top 10 - Inyecci√≥n',
                        content: `
                            <h3 class="font-bold text-xl mt-4 mb-2">A03: Injection (Inyecci√≥n)</h3>
                            <p>Las fallas de inyecci√≥n, como SQL Injection o Command Injection, ocurren cuando se env√≠an datos no confiables a un int√©rprete como parte de un comando. Esto puede llevar a la ejecuci√≥n de comandos maliciosos.</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md border border-gray-200">
                                <strong>Ejemplo:</strong> Un atacante inserta <code>' OR '1'='1' --</code> en un campo de inicio de sesi√≥n. Esto manipula la consulta SQL y permite el inicio de sesi√≥n sin una contrase√±a v√°lida.
                            </p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Atacante</text>
                                    <path d="M90 40 L120 40" stroke="#a0aec0" stroke-width="2" marker-end="url(#arrowhead)" />
                                    <text x="105" y="35" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">input: ' OR '1'='1</text>
                                    <rect x="120" y="20" width="100" height="40" rx="5" ry="5" fill="#f56565" />
                                    <text x="170" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Consulta SQL</text>
                                    <rect x="230" y="20" width="60" height="40" rx="5" ry="5" fill="#48bb78" />
                                    <text x="260" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Base de Datos</text>
                                    <path d="M220 40 L230 40" stroke="#a0aec0" stroke-width="2" marker-end="url(#arrowhead)" />
                                    <text x="170" y="80" font-family="Inter" font-size="12" fill="#e53e3e" text-anchor="middle">‚ùå Ejecuci√≥n Maliciosa</text>
                                    <defs>
                                        <marker id="arrowhead" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto">
                                            <path d="M 0 0 L 10 5 L 0 10 z" fill="#a0aec0" />
                                        </marker>
                                    </defs>
                                </svg>
                            </div>
                        `,
                        question: 'Un atacante inserta <code>; rm -rf /</code> en un campo de b√∫squeda que utiliza un comando de sistema. ¬øQu√© tipo de vulnerabilidad est√° explotando?',
                        options: [
                            'Broken Access Control',
                            'Criptographic Failures',
                            'Injection (Command Injection)'
                        ],
                        correctAnswer: 2,
                        feedback: '¬°Correcto! El atacante est√° "inyectando" un comando malicioso que el int√©rprete del sistema ejecutar√°.',
                        documentation: [
                            { text: 'OWASP Top 10 - Injection', url: 'https://owasp.org/www-project-top-ten/2021/A03_2021-Injection' }
                        ]
                    }
                ],
                bots: [
                    {
                        day: 3,
                        title: 'D√≠a 3: Amenazas Automatizadas - Credential Stuffing',
                        content: `
                            <p>El OWASP Automated Threats to Web Applications (OAT) enumera las amenazas m√°s comunes que utilizan bots para atacar aplicaciones web. La mayor√≠a de estas amenazas no son vulnerabilidades de c√≥digo, sino fallas en la l√≥gica de negocio y la defensa de la aplicaci√≥n.</p>
                            <h3 class="font-bold text-xl mt-4 mb-2">OT-001: Credential Stuffing</h3>
                            <p>Esta es la amenaza m√°s com√∫n. Los atacantes utilizan listas de credenciales robadas de otros sitios para intentar iniciar sesi√≥n en su aplicaci√≥n. El objetivo es explotar el hecho de que muchos usuarios reutilizan contrase√±as.</p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Bot/Atacante</text>
                                    <rect x="200" y="20" width="80" height="40" rx="5" ry="5" fill="#48bb78" />
                                    <text x="240" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Tu Aplicaci√≥n</text>
                                    <path d="M90 40 Q 145 10, 190 40" stroke="#a0aec0" stroke-width="2" fill="none" />
                                    <path d="M90 50 Q 145 80, 190 50" stroke="#a0aec0" stroke-width="2" fill="none" />
                                    <text x="145" y="30" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">intento1@email.com</text>
                                    <text x="145" y="60" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">intento2@email.com</text>
                                </svg>
                            </div>
                        `,
                        question: 'Un sitio est√° siendo atacado por un script que intenta miles de combinaciones de nombre de usuario y contrase√±a por segundo. Esto es un ataque de:',
                        options: [
                            'Broken Access Control',
                            'Credential Stuffing',
                            'Denial of Service (DoS)'
                        ],
                        correctAnswer: 1,
                        feedback: '¬°Correcto! El ataque es de Credential Stuffing, utilizando credenciales de una violaci√≥n de datos previa.',
                        documentation: [
                            { text: 'OWASP Automated Threats - Credential Stuffing', url: 'https://owasp.org/www-project-automated-threats-to-web-applications/#ot-001-credential-stuffing' }
                        ]
                    },
                    {
                        day: 4,
                        title: 'D√≠a 4: Amenazas Automatizadas - Web Scraping',
                        content: `
                            <h3 class="font-bold text-xl mt-4 mb-2">OT-002: Web Scraping</h3>
                            <p>Web scraping es el proceso de utilizar un bot para extraer contenido y datos de un sitio web. Aunque puede tener usos leg√≠timos, tambi√©n es una amenaza cuando se utiliza para robar contenido propietario, precios de productos o listas de correo electr√≥nico.</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md border border-gray-200">
                                <strong>Ejemplo:</strong> Un competidor utiliza un bot para extraer todos los precios de sus productos en tiempo real, lo que le permite ajustar sus propios precios para que siempre sean m√°s bajos.
                            </p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Scraper Bot</text>
                                    <rect x="200" y="20" width="80" height="40" rx="5" ry="5" fill="#48bb78" />
                                    <text x="240" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Tu Tienda</text>
                                    <path d="M90 40 Q 145 10, 190 40" stroke="#a0aec0" stroke-width="2" fill="none" />
                                    <path d="M90 50 Q 145 80, 190 50" stroke="#a0aec0" stroke-width="2" fill="none" />
                                    <text x="145" y="30" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">/productos</text>
                                    <text x="145" y="60" font-family="Inter" font-size="10" fill="#a0aec0" text-anchor="middle">Extrayendo datos...</text>
                                </svg>
                            </div>
                        `,
                        question: '¬øCu√°l es la principal amenaza de un bot que visita repetidamente un sitio para copiar informaci√≥n de productos?',
                        options: [
                            'Credential Stuffing',
                            'Web Scraping',
                            'Denial of Service (DoS)'
                        ],
                        correctAnswer: 1,
                        feedback: '¬°Correcto! Esta actividad es un ejemplo cl√°sico de Web Scraping. Para proteger tu sitio, puedes usar t√©cnicas como honeypots y detecci√≥n de patrones de acceso.',
                        documentation: [
                            { text: 'OWASP Automated Threats - Web Scraping', url: 'https://owasp.org/www-project-automated-threats-to-web-applications/#ot-002-web-scraping' }
                        ]
                    }
                ],
                api: [
                    {
                        day: 5,
                        title: 'D√≠a 5: Seguridad de API - BOLA',
                        content: `
                            <p>Con el crecimiento de las APIs, OWASP cre√≥ un Top 10 espec√≠fico para ellas. Muchas vulnerabilidades de API son similares a las de las aplicaciones web, pero algunas son √∫nicas debido a su naturaleza.</p>
                            <h3 class="font-bold text-xl mt-4 mb-2">API1: Broken Object Level Authorization (BOLA)</h3>
                            <p>Esta vulnerabilidade ocorre quando o sistema n√£o verifica se o usu√°rio autenticado tem permiss√£o para aceder a um objeto espec√≠fico via API, usando um ID.</p>
                            <p class="mt-2 p-3 bg-gray-100 rounded-md border border-gray-200">
                                <strong>Ejemplo:</strong> La API <code>/api/v1/users/{user_id}</code> devuelve los datos de un usuario. Si el usuario A puede cambiar el ID en la solicitud al ID del usuario B y obtener sus datos, esto es un BOLA.</p>
                            <div class="flex justify-center mt-6">
                                <svg class="w-full max-w-md h-auto" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="10" y="20" width="80" height="40" rx="5" ry="5" fill="#4299e1" />
                                    <text x="50" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Usuario A</text>
                                    <rect x="210" y="20" width="80" height="40" rx="5" ry="5" fill="#48bb78" />
                                    <text x="250" y="45" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Servidor API</text>
                                    <rect x="110" y="80" width="80" height="40" rx="5" ry="5" fill="#90cdf4" />
                                    <text x="150" y="105" font-family="Inter" font-size="12" fill="white" text-anchor="middle">Datos B</text>
                                    <path d="M90 40 L210 40" stroke="#e53e3e" stroke-width="2" marker-end="url(#arrowhead)" />
                                    <text x="150" y="35" font-family="Inter" font-size="10" fill="#e53e3e" text-anchor="middle">/users/id_B</text>
                                    <defs>
                                        <marker id="arrowhead" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto">
                                            <path d="M 0 0 L 10 5 L 0 10 z" fill="#e53e3e" />
                                        </marker>
                                    </defs>
                                </svg>
                            </div>
                        `,
                        question: '¬øQu√© falla de API es un tipo de Broken Access Control espec√≠fico para IDs de objetos?',
                        options: [
                            'API3: Broken Function Level Authorization',
                            'API1: Broken Object Level Authorization (BOLA)',
                            'API2: Broken Authentication'
                        ],
                        correctAnswer: 1,
                        feedback: '¬°As√≠ es! BOLA es un tipo de Broken Access Control donde la validaci√≥n falla a nivel de objeto (el recurso espec√≠fico, como un usuario, un archivo, etc.).',
                        documentation: [
                            { text: 'OWASP API Security Top 10 - BOLA', url: 'https://owasp.org/API-Security/editions/2023/en/0x11-t10/#api1-broken-object-level-authorization' }
                        ]
                    }
                ]
            }
        };
        const courseFinalData = {
            pt: {
                title: 'Fim do Curso',
                content: `
                    <p>Parab√©ns! Voc√™ concluiu este curso introdut√≥rio. Esperamos que tenha gostado da experi√™ncia e compreendido os riscos de seguran√ßa mais cr√≠ticos para aplica√ß√µes web e APIs. Para aprofundar, visite os links oficiais da OWASP.</p>
                    <ul class="list-disc list-inside mt-4">
                        <li><a href="https://owasp.org/www-project-top-ten/" class="text-blue-500 hover:underline" target="_blank">OWASP Top 10</a></li>
                        <li><a href="https://owasp.org/www-project-automated-threats-to-web-applications/" class="text-blue-500 hover:underline" target="_blank">OWASP Automated Threats</a></li>
                        <li><a href="https://owasp.org/API-Security/editions/2023/en/0x11-t10/" class="text-blue-500 hover:underline" target="_blank">OWASP API Security Top 10</a></li>
                    </ul>
                `,
            },
            en: {
                title: 'End of Course',
                content: `
                    <p>Congratulations! You have completed this introductory course. We hope you enjoyed the experience and have understood the most critical security risks for web applications and APIs. To delve deeper, visit the official OWASP links.</p>
                    <ul class="list-disc list-inside mt-4">
                        <li><a href="https://owasp.org/www-project-top-ten/" class="text-blue-500 hover:underline" target="_blank">OWASP Top 10</a></li>
                        <li><a href="https://owasp.org/www-project-automated-threats-to-web-applications/" class="text-blue-500 hover:underline" target="_blank">OWASP Automated Threats</a></li>
                        <li><a href="https://owasp.org/API-Security/editions/2023/en/0x11-t10/" class="text-blue-500 hover:underline" target="_blank">OWASP API Security Top 10</a></li>
                    </ul>
                `,
            },
            es: {
                title: 'Fin del Curso',
                content: `
                    <p>¬°Felicitaciones! Has completado este curso introductorio. Esperamos que hayas disfrutado la experiencia y comprendido los riesgos de seguridad m√°s cr√≠ticos para aplicaciones web y APIs. Para profundizar, visita los enlaces oficiales de OWASP.</p>
                    <ul class="list-disc list-inside mt-4">
                        <li><a href="https://owasp.org/www-project-top-ten/" class="text-blue-500 hover:underline" target="_blank">OWASP Top 10</a></li>
                        <li><a href="https://owasp.org/www-project-automated-threats-to-web-applications/" class="text-blue-500 hover:underline" target="_blank">OWASP Automated Threats</a></li>
                        <li><a href="https://owasp.org/API-Security/editions/2023/en/0x11-t10/" class="text-blue-500 hover:underline" target="_blank">OWASP API Security Top 10</a></li>
                    </ul>
                `,
            }
        };

        let currentSection = 'top10';
        let currentLessonIndex = 0;
        let currentLanguage = 'pt';
        
        const courseTitle = document.getElementById('course-title');
        const lessonContent = document.getElementById('lesson-content');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackMessage = document.getElementById('feedback-message');
        const nextButton = document.getElementById('next-button');
        const restartButton = document.getElementById('restart-button');
        const languageSelect = document.getElementById('language-select');
        const documentationArea = document.getElementById('documentation-area');
        const documentationList = document.getElementById('documentation-list');
        const streakCounter = document.getElementById('streak-counter');
        const tabButtons = document.querySelectorAll('.tab-button');
        
        // Functions for Streak/Progress Tracking
        function getStreakData() {
            const streakData = JSON.parse(localStorage.getItem('owasp_course_streak')) || {};
            return {
                lastCompletedDate: streakData.lastCompletedDate ? new Date(streakData.lastCompletedDate) : null,
                streakCount: streakData.streakCount || 0
            };
        }

        function updateStreak() {
            const today = new Date();
            const { lastCompletedDate, streakCount } = getStreakData();
            
            if (lastCompletedDate) {
                const diffTime = Math.abs(today - lastCompletedDate);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
                
                if (diffDays === 1) {
                    // Streak continues
                    localStorage.setItem('owasp_course_streak', JSON.stringify({
                        lastCompletedDate: today.toISOString().slice(0, 10),
                        streakCount: streakCount + 1
                    }));
                } else if (diffDays > 1) {
                    // Streak broken, reset
                    localStorage.setItem('owasp_course_streak', JSON.stringify({
                        lastCompletedDate: today.toISOString().slice(0, 10),
                        streakCount: 1
                    }));
                } else {
                    // Same day, do nothing
                }
            } else {
                // First completion
                localStorage.setItem('owasp_course_streak', JSON.stringify({
                    lastCompletedDate: today.toISOString().slice(0, 10),
                    streakCount: 1
                }));
            }
            updateStreakDisplay();
        }

        function updateStreakDisplay() {
            const { streakCount } = getStreakData();
            streakCounter.innerHTML = `üî• ${streakCount}`;
        }
        
        // Function to render the current lesson based on language and section
        function renderLesson() {
            const lessons = courseData[currentLanguage][currentSection];
            const isLastCourse = currentSection === 'api' && currentLessonIndex === lessons.length - 1;

            if (isLastCourse) {
                courseTitle.innerHTML = courseFinalData[currentLanguage].title;
                lessonContent.innerHTML = courseFinalData[currentLanguage].content;
                document.getElementById('question-area').style.display = 'none';
                nextButton.classList.add('hidden');
                restartButton.classList.remove('hidden');
                documentationArea.classList.add('hidden');
                return;
            }

            const lesson = lessons[currentLessonIndex];
            
            // Render content
            courseTitle.innerHTML = lesson.title;
            lessonContent.innerHTML = lesson.content;
            
            // Render question area if there is a question
            if (lesson.question) {
                questionText.innerHTML = lesson.question;
                optionsContainer.innerHTML = '';
                lesson.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.innerHTML = option;
                    button.className = 'option-button bg-gray-200 text-gray-800 p-4 rounded-lg hover:bg-gray-300 transition-colors duration-200';
                    button.onclick = () => handleAnswer(index);
                    optionsContainer.appendChild(button);
                });
                document.getElementById('question-area').style.display = 'block';
                feedbackMessage.classList.add('hidden');
                nextButton.classList.add('hidden');
                restartButton.classList.add('hidden');
                documentationArea.classList.add('hidden');
            } else {
                 // Hide question area at the end of the course or section
                document.getElementById('question-area').style.display = 'none';
                feedbackMessage.classList.add('hidden');
                
                nextButton.classList.remove('hidden');
                restartButton.classList.add('hidden');
                documentationArea.classList.add('hidden');
            }
        }

        // Function to handle the user's answer
        function handleAnswer(selectedIndex) {
            const lesson = courseData[currentLanguage][currentSection][currentLessonIndex];
            const isCorrect = selectedIndex === lesson.correctAnswer;
            
            feedbackMessage.classList.remove('hidden');
            if (isCorrect) {
                feedbackMessage.textContent = lesson.feedback;
                feedbackMessage.classList.remove('bg-red-500');
                feedbackMessage.classList.add('bg-green-500');
                nextButton.classList.remove('hidden');
                
                // Update streak on correct answer
                const today = new Date();
                const todayString = today.toISOString().slice(0, 10);
                
                if (localStorage.getItem('last_completed_day') !== todayString) {
                    updateStreak();
                    localStorage.setItem('last_completed_day', todayString);
                }

                // Show documentation links
                if (lesson.documentation && lesson.documentation.length > 0) {
                    documentationList.innerHTML = '';
                    lesson.documentation.forEach(doc => {
                        const li = document.createElement('li');
                        const a = document.createElement('a');
                        a.href = doc.url;
                        a.textContent = doc.text;
                        a.target = '_blank';
                        li.appendChild(a);
                        documentationList.appendChild(li);
                    });
                    documentationArea.classList.remove('hidden');
                }
            } else {
                feedbackMessage.textContent = lesson.feedback;
                if (!feedbackMessage.textContent.includes('Correto!') && !feedbackMessage.textContent.includes('Correct!') && !feedbackMessage.textContent.includes('¬°Correcto!')) {
                    feedbackMessage.textContent = (currentLanguage === 'pt' ? 'Incorreto. Tente novamente.' : (currentLanguage === 'en' ? 'Incorrect. Try again.' : 'Incorrecto. Intenta de nuevo.'));
                }
                feedbackMessage.classList.remove('bg-green-500');
                feedbackMessage.classList.add('bg-red-500');
                nextButton.classList.add('hidden');
                documentationArea.classList.add('hidden');

                // Reset streak on incorrect answer
                localStorage.setItem('owasp_course_streak', JSON.stringify({
                    lastCompletedDate: null,
                    streakCount: 0
                }));
                updateStreakDisplay();
            }
            
            document.querySelectorAll('.option-button').forEach(btn => {
                btn.disabled = true;
                btn.classList.remove('hover:bg-gray-300');
                btn.classList.add('cursor-not-allowed');
            });
        }

        // Function to load the next lesson or section
        function nextLesson() {
            const lessons = courseData[currentLanguage][currentSection];
            if (currentLessonIndex < lessons.length - 1) {
                currentLessonIndex++;
            } else {
                const sections = Object.keys(courseData[currentLanguage]);
                const currentSectionIndex = sections.indexOf(currentSection);
                if (currentSectionIndex < sections.length - 1) {
                    currentSection = sections[currentSectionIndex + 1];
                    currentLessonIndex = 0;
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    document.querySelector(`[data-section="${currentSection}"]`).classList.add('active');
                } else {
                    currentLessonIndex = 0;
                }
            }
            renderLesson();
        }

        // Function to restart the course
        function restartCourse() {
            currentSection = 'top10';
            currentLessonIndex = 0;
            restartButton.classList.add('hidden');
            tabButtons.forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[data-section="top10"]`).classList.add('active');
            renderLesson();
            localStorage.removeItem('owasp_course_streak');
            localStorage.removeItem('last_completed_day');
            updateStreakDisplay();
        }

        // Event Listeners
        nextButton.addEventListener('click', nextLesson);
        restartButton.addEventListener('click', restartCourse);
        
        // Language selector
        languageSelect.addEventListener('change', (event) => {
            currentLanguage = event.target.value;
            renderLesson();
            const texts = {
                pt: { next: 'Continuar', restart: 'Reiniciar', tabs: ['OWASP Top 10', 'Amea√ßas Automatizadas', 'Seguran√ßa de API'] },
                en: { next: 'Continue', restart: 'Restart', tabs: ['OWASP Top 10', 'Automated Threats', 'API Security'] },
                es: { next: 'Continuar', restart: 'Reiniciar', tabs: ['OWASP Top 10', 'Amenazas Automatizadas', 'Seguridad de API'] }
            };
            nextButton.textContent = texts[currentLanguage].next;
            restartButton.textContent = texts[currentLanguage].restart;
            document.getElementById('tab-top10').textContent = texts[currentLanguage].tabs[0];
            document.getElementById('tab-bots').textContent = texts[currentLanguage].tabs[1];
            document.getElementById('tab-api').textContent = texts[currentLanguage].tabs[2];
        });

        // Tab switching
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                tabButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                currentSection = button.dataset.section;
                currentLessonIndex = 0;
                renderLesson();
            });
        });

        // Initialize the course
        renderLesson();
        updateStreakDisplay();
    </script>
</body>
</html>
